<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>عقد العميل - المشرف</title>
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      padding: 40px;
      background-color: #fff;
      color: #000;
      line-height: 2;
    }
    .header {
      text-align: center;
      margin-bottom: 20px;
    }
    .header h1 {
      margin: 0;
      font-size: 24px;
    }
    .info-top {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
    }
    .info-top div {
      width: 48%;
    }
    .section {
      margin-bottom: 20px;
    }
    .section strong {
      display: inline-block;
      width: 130px;
    }
    .footer {
      background-color: #fff3cd;
      border: 1px solid #ffeeba;
      padding: 15px;
      border-radius: 8px;
      font-size: 16px;
      color: #856404;
      margin-top: 30px;
      text-align: center;
    }
    #contractNumber {
      font-weight: bold;
      font-size: 18px;
      text-align: left;
      margin-bottom: 10px;
      direction: rtl;
    }
  </style>
</head>
<body>

  <div class="header">
    <h1>بسم الله الرحمن الرحيم</h1>
  </div>

  <div class="info-top">
    <div>
      <p><strong>المملكة العربية السعودية</strong></p>
      <p>سرعة تملك العقار والحلول التمويلية المتكاملة</p>
      <p>الترخيص: 1100042624</p>
      <p>الرياض</p>
    </div>
    <div style="text-align: left;">
      <p id="contractNumber">رقم العقد: جاري التحميل...</p>
      <p id="contractDate"></p>
    </div>
  </div>

  <h2 style="text-align: center; margin-bottom: 30px;">عقد اتفاقية إنهاء إجراءات تمويل عقاري من جهة تمويلية</h2>

  <div class="section">
    <p>تم إبرام هذا العقد بين:</p>
    <p>الطرف الأول: شركة الوساطة العقارية والتسويق</p>
    <p>الطرف الثاني: <span id="clientName">__________</span></p>
    <p>رقم الهوية: <span id="idNumber">__________</span></p>
    <p>تاريخ الميلاد: <span id="birthDate">__________</span></p>
    <p>رقم الجوال: <span id="mobileNumber">__________</span></p>
    <p>الموقع: <span id="location">__________</span></p>
    <p>وقت التوقيع: <span id="signDate">__________</span></p>
  </div>

  <div class="section">
    <p>وقد وافق الطرف الثاني على جميع بنود الاتفاق السابق إلكترونيًا.</p>
    <p>التوقيع الإلكتروني للطرف الأول: نايف المطيري</p>
    <p>التوقيع الإلكتروني للطرف الثاني: <span id="clientName2">__________</span></p>
  </div>

  <div class="footer">
    ⚠️ تم توثيق هذا العقد إلكترونيًا ويُعد سندًا تنفيذًا بموجب المادة (9) من نظام المعاملات الإلكترونية.<br>
    جميع الحقوق محفوظة لشركة سرعة تملك العقار.
  </div>

  <script>
    // توليد رقم العقد التسلسلي
    let lastContractNumber = localStorage.getItem('lastContractNumber');
    if (!lastContractNumber) {
      lastContractNumber = 9876;
    } else {
      lastContractNumber = parseInt(lastContractNumber) + 1;
    }
    localStorage.setItem('lastContractNumber', lastContractNumber);
    document.getElementById("contractNumber").textContent = "رقم العقد: " + lastContractNumber;

    // عرض التاريخ الهجري الحالي
    function getHijriDate() {
      const date = new Date();
      const options = {
        year: 'numeric', month: 'long', day: 'numeric',
        calendar: 'islamic-umalqura',
        numberingSystem: 'arab'
      };
      return new Intl.DateTimeFormat('ar-SA-u-ca-islamic', options).format(date);
    }
    document.getElementById("contractDate").textContent = "تاريخ العقد (هجري): " + getHijriDate();

    // تعبئة بيانات وهمية (بدّلها لاحقاً بالديناميكية حسب الردود الفعلية)
    document.getElementById("clientName").textContent = "سعود عبدالله المطيري";
    document.getElementById("clientName2").textContent = "سعود عبدالله المطيري";
    document.getElementById("idNumber").textContent = "1000000000";
    document.getElementById("birthDate").textContent = "1/5/1375";
    document.getElementById("mobileNumber").textContent = "0500000000";
    document.getElementById("location").textContent = "الرياض، حي النخيل";
    document.getElementById("signDate").textContent = "15/07/2025 - 20:07 م";
  </script>
</body>
</html>