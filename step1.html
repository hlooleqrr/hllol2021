<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>التحقق من هوية العميل</title>
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #f2f2f2;
      margin: 0; padding: 0;
      display: flex; flex-direction: column; align-items: center;
      min-height: 100vh;
    }
    .container {
      margin-top: 60px;
      background: #fff;
      padding: 30px;
      border-radius: 16px;
      border: 2px solid #004d40;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 400px;
      text-align: center;
    }
    h2 {
      color: #004d40;
      margin-bottom: 20px;
    }
    input {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
      text-align: center;
    }
    button {
      background-color: #004d40;
      color: #fff;
      padding: 10px 25px;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
    }
    button:hover {
      background-color: #00695c;
    }
    .error {
      color: red;
      font-size: 15px;
    }

    .legal-box {
      background-color: #fff3f3;
      border: 2px solid #e53935;
      border-radius: 12px;
      padding: 16px;
      margin: 30px auto 10px;
      max-width: 90%;
      text-align: right;
      font-size: 15px;
      color: #333;
    }
    .legal-box h3 {
      margin: 0 0 10px;
      font-size: 18px;
      color: #004d40;
    }
    .legal-box .warning {
      color: #b71c1c;
      font-weight: bold;
      margin: 8px 0;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>الرجاء إدخال الرمز المخصص لك</h2>
  <input type="text" id="clientCode" placeholder="أدخل الرمز هنا" />
  <div id="errorMsg" class="error"></div>
  <button onclick="checkCode()">التالي</button>
</div>

<div class="legal-box">
  <h3>شركة سرعة تملك العقار والحلول التمويلية المتكاملة</h3>
  <p class="warning">
    ⛔️ تنبيه قانوني: يخضع هذا العقد للمادة التاسعة من نظام التعاملات الإلكترونية في المملكة العربية السعودية، ويُعد التفاعل مع هذا الموقع بمثابة موافقة صريحة على كافة البنود، وله حجية نظامية كاملة في الإثبات أمام الجهات الرسمية والقضائية.
  </p>
  <p id="location">📍 موقع الدخول: يتم تحديده...</p>
  <p id="datetime">🕒 التاريخ والوقت: جاري التحميل...</p>
</div>

<script>
  function checkCode() {
    const code = document.getElementById('clientCode').value.trim();
    const errorDiv = document.getElementById('errorMsg');

    if (code === 'qq11qQ@2032') {
      window.location.href = 'step2.html';
    } else if (code === 'admin#Naef@2032') {
      window.location.href = 'admin_login.html';
    } else {
      errorDiv.textContent = "⚠️ الرمز غير صحيح، حاول مرة أخرى.";
    }
  }

  const dtBox = document.getElementById("datetime");
  const now = new Date();
  const formatted = now.toLocaleString('ar-SA', {
    year: 'numeric',
    month: '2-digit',
    day: '2-digit',
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit',
    hour12: true
  });
  dtBox.textContent = "🕒 التاريخ والوقت: " + formatted;

  const locBox = document.getElementById("location");
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(pos => {
      locBox.textContent = `📍 موقع الدخول: خط العرض ${pos.coords.latitude.toFixed(4)}, خط الطول ${pos.coords.longitude.toFixed(4)}`;
    }, () => {
      locBox.textContent = "📍 موقع الدخول: غير محدد (تم رفض الوصول للموقع)";
    });
  } else {
    locBox.textContent = "📍 موقع الدخول: غير مدعوم في هذا المتصفح";
  }
</script>

</body>
</html>