<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>عرض العقد - سرعة تملك العقار</title>
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      margin: 0;
      padding: 0;
      background: #f9f9f9;
      color: #333;
    }
    header {
      background-color: #004d40;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    .subheader {
      background: #00796b;
      color: white;
      padding: 10px;
      text-align: center;
      font-size: 18px;
    }
    .contract-box {
      max-width: 800px;
      margin: 30px auto;
      background: white;
      padding: 30px;
      border: 3px solid #004d40;
      border-radius: 12px;
      line-height: 2;
    }
    .btns {
      text-align: center;
      margin: 30px 0;
    }
    button {
      font-size: 18px;
      padding: 12px 24px;
      margin: 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .agree {
      background-color: #2e7d32;
      color: white;
    }
    .refuse {
      background-color: #c62828;
      color: white;
    }
    .footer {
      padding: 20px;
      background: #eee;
      text-align: center;
      font-size: 14px;
      margin-top: 30px;
    }
    .warning {
      color: red;
      font-weight: bold;
      margin-bottom: 10px;
    }
  </style>
</head>
<body onload="insertClientData()">

  <header>شركة سرعة تملك العقار</header>
  <div class="subheader">عقد إنهاء إجراءات تمويل عقاري من جهة تمويلية</div>

  <div class="contract-box" id="contractBox">
    <p><strong>الطرف الثاني:</strong></p>
    <p>الاسم: <span id="clientName"></span></p>
    <p>رقم الهوية: <span id="clientNID"></span></p>
    <p>رقم الجوال: <span id="clientMobile"></span></p>
    <p>تاريخ الميلاد (هجري): <span id="clientBirth"></span></p>
    <hr>
    <p><strong>بنود العقد:</strong></p>
    <ol>
      <li>يلتزم الطرف الأول بتقديم خدمة الوساطة العقارية للطرف الثاني.</li>
      <li>يقر الطرف الثاني أن توقيعه الإلكتروني على هذا العقد مُلزم قانونيًا حسب نظام التعاملات الإلكترونية.</li>
      <li>يتحمل الطرف الثاني كامل المسؤولية عن صحة البيانات المقدمة.</li>
      <li>يتم تنفيذ العقد بعد اكتمال كافة المستندات المطلوبة.</li>
      <li>لا يجوز لأي طرف التراجع بعد توقيع العقد إلكترونيًا.</li>
      <li>يتم التواصل بين الطرفين عبر البيانات المقدمة.</li>
      <li>مدة صلاحية هذا العقد 30 يومًا من تاريخه.</li>
      <li>لا يحق للطرف الثاني مطالبة الطرف الأول بأي تعويض في حال رفض التمويل من الجهة التمويلية.</li>
      <li>يتعهد الطرف الثاني بعدم التعامل مع وسيط آخر لنفس العقار.</li>
      <li>تُعتبر الرسوم المدفوعة غير قابلة للاسترداد بعد توقيع العقد.</li>
      <li>جميع البنود السابقة مُلزمة للطرفين حال التوقيع الإلكتروني.</li>
      <li>تخضع هذه الاتفاقية للأنظمة المعمول بها في المملكة العربية السعودية.</li>
    </ol>
  </div>

  <div class="btns">
    <button class="agree" onclick="acceptContract()">موافق</button>
    <button class="refuse" onclick="rejectContract()">رفض</button>
  </div>

  <div class="footer">
    <div class="warning">
      ⚠️ تنبيه: يعتبر التوقيع الإلكتروني ملزمًا حسب المادة (2) من نظام التعاملات الإلكترونية السعودي.
    </div>
    <div id="datetime"></div>
    <div id="location"></div>
  </div>

  <script>
    function insertClientData() {
      document.getElementById("clientName").textContent = localStorage.getItem("name") || "_____";
      document.getElementById("clientNID").textContent = localStorage.getItem("nid") || "_____";
      document.getElementById("clientMobile").textContent = localStorage.getItem("mobile") || "_____";
      document.getElementById("clientBirth").textContent = localStorage.getItem("birth") || "_____";

      const now = new Date();
      document.getElementById("datetime").innerText = `التاريخ والوقت: ${now.toLocaleString('ar-EG')}`;

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          const lat = pos.coords.latitude.toFixed(5);
          const long = pos.coords.longitude.toFixed(5);
          document.getElementById("location").innerText = `الموقع: خط العرض ${lat} - خط الطول ${long}`;
        });
      } else {
        document.getElementById("location").innerText = "الموقع غير متوفر";
      }
    }

    function acceptContract() {
      window.location.href = "step3.html";
    }

    function rejectContract() {
      window.location.href = "step4.html";
    }
  </script>

</body>
</html>