<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>إدخال البيانات</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #f9f9f9;
      padding: 30px;
      color: #004d40;
    }
    label {
      display: block;
      margin-top: 20px;
      margin-bottom: 5px;
    }
    input, select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-bottom: 15px;
    }
    button {
      padding: 12px 30px;
      font-size: 18px;
      background-color: #00796b;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h2>أدخل معلوماتك:</h2>

<label>اسمك الكريم:</label>
<input type="text" id="clientName" required>

<label>رقم الهوية (10 أرقام):</label>
<input type="text" id="clientId" maxlength="10" pattern="\d{10}" required>

<label>رقم الجوال (يبدأ بـ 05):</label>
<input type="text" id="clientMobile" maxlength="10" pattern="05\d{8}" required>

<label>تاريخ الميلاد (هجري):</label>
<div style="display: flex; gap: 10px;">
  <select id="birthDay">
    <option value="">اليوم</option>
    <script>
      for (let i = 1; i <= 30; i++) {
        document.write(`<option value="${i.toString().padStart(2,'0')}">${i}</option>`);
      }
    </script>
  </select>

  <select id="birthMonth">
    <option value="">الشهر</option>
    <option value="01">محرم</option>
    <option value="02">صفر</option>
    <option value="03">ربيع أول</option>
    <option value="04">ربيع ثاني</option>
    <option value="05">جمادى الأولى</option>
    <option value="06">جمادى الآخرة</option>
    <option value="07">رجب</option>
    <option value="08">شعبان</option>
    <option value="09">رمضان</option>
    <option value="10">شوال</option>
    <option value="11">ذو القعدة</option>
    <option value="12">ذو الحجة</option>
  </select>

  <select id="birthYear">
    <option value="">السنة</option>
    <script>
      for (let y = 1445; y >= 1370; y--) {
        document.write(`<option value="${y}">${y}</option>`);
      }
    </script>
  </select>
</div>

<button onclick="saveData()">التالي</button>

<script>
  function saveData() {
    const name = document.getElementById("clientName").value.trim();
    const id = document.getElementById("clientId").value.trim();
    const mobile = document.getElementById("clientMobile").value.trim();
    const year = document.getElementById("birthYear").value;
    const month = document.getElementById("birthMonth").value;
    const day = document.getElementById("birthDay").value;

    if (!name || id.length !== 10 || !id.match(/^\d+$/) ||
        !mobile.startsWith("05") || mobile.length !== 10 ||
        !year || !month || !day) {
      alert("يرجى تعبئة جميع الحقول بشكل صحيح.");
      return;
    }

    localStorage.setItem("clientName", name);
    localStorage.setItem("clientId", id);
    localStorage.setItem("clientMobile", mobile);
    localStorage.setItem("birthYear", year);
    localStorage.setItem("birthMonth", month);
    localStorage.setItem("birthDay", day);

    window.location.href = "step3.html";
  }
</script>

</body>
</html>