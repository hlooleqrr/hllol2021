<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>عرض العقد</title>
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #f9f9f9;
      color: #004d40;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 800px;
      margin: 40px auto;
      background-color: #fff;
      padding: 30px;
      border-radius: 12px;
      border: 2px solid #004d40;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .company-name {
      background-color: #e6f9ec;
      padding: 10px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      color: #006400;
      margin-bottom: 20px;
    }
    .contract {
      white-space: pre-line;
      line-height: 2;
      font-size: 17px;
    }
    button {
      width: 100%;
      padding: 15px;
      font-size: 18px;
      background-color: #00796b;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 30px;
    }
    .alert {
      background-color: #fff3cd;
      border: 1px solid #ffeeba;
      padding: 15px;
      border-radius: 8px;
      font-size: 16px;
      color: #856404;
      margin-top: 25px;
    }
    footer {
      margin-top: 30px;
      padding-top: 10px;
      border-top: 1px solid #ccc;
      font-size: 14px;
      text-align: center;
      color: #777;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="company-name">سرعة تملك العقار والحلول التمويلية المتكاملة</div>

    <div class="contract" id="contractText">
      <!-- سيتم تعبئة النص تلقائيًا من JavaScript -->
    </div>

    <button onclick="goNext()">التالي</button>

    <div class="alert">
      ⚠️ <strong>تنبيه:</strong> يتم حماية هذا العقد وتوثيقه بموجب <strong>المادة التاسعة من نظام المعاملات الإلكترونية</strong>، ويُعد سجلًا إلكترونيًا موثقًا وحجة نظامية معتبرة في الإثبات أمام الجهات الرسمية.
    </div>

    <footer>
      <p id="dateTime"></p>
      <p>جميع الحقوق محفوظة لشركة سرعة تملك العقار</p>
    </footer>
  </div>

  <script>
    function goNext() {
      window.location.href = "step7.html";
    }

    function fillContract() {
      const name = localStorage.getItem("clientName") || "..................";
      const id = localStorage.getItem("nationalID") || "..................";
      const birth = localStorage.getItem("birthHijri") || "..................";
      const mobile = localStorage.getItem("mobile") || "..................";

      const contract = `
بسم الله الرحمن الرحيم

المملكة العربية السعودية
شركة الوساطة العقارية والتسويق
ترخيص: 1100042624
الرياض

عقد اتفاقية إنهاء إجراءات تمويل عقاري من جهة تمويلية

تم بعون الله وتوفيقه في هذا اليوم، الاتفاق بين كل من:

الطرف الأول:
شركة الوساطة العقارية والتسويق
ويمثلها الأستاذ: نايف المطيري
بصفته: مدير الإدارة
ويُشار إليه في هذا العقد بـ (الطرف الأول)

الطرف الثاني:
الاسم: ${name}
رقم الهوية: ${id}
تاريخ الميلاد: ${birth}
رقم الجوال: ${mobile}
ويُشار إليه في هذا العقد بـ (الطرف الثاني)

⸻
التمهيد:
حيث أن الطرف الأول جهة مرخصة تعمل في مجال الوساطة العقارية وتقوم بتسهيل التمويل العقاري من الجهات المعتمدة، ويرغب الطرف الثاني في تملّك عقار عبر إحدى جهات التمويل، فقد تم التعاقد وفق البنود التالية:

1. التمهيد أعلاه جزء لا يتجزأ من هذا العقد.
2. يقوم الطرف الأول بجميع إجراءات إنهاء التمويل للطرف الثاني.
3. يدفع الطرف الثاني نسبة 2.5٪ من قيمة العقار + 500 ريال رسوم عقد.
4. إذا فشل التمويل لأسباب خارج إرادة الطرف الثاني يُعاد المبلغ.
5. إذا انسحب الطرف الثاني لأي سبب يُعتبر المبلغ مستحقًا للطرف الأول.
6. في حال التأخير أو المماطلة يتحمل الطرف الثاني المسؤولية.
7. يقر الطرف الثاني بعدم إخفاء معلومات تؤثر على المعاملة.
8. يلتزم بتحويل راتبه للبنك المحدد إن لزم الأمر.
9. تنتهي علاقة الطرفين بعد توقيع العقد التمويلي.
10. العناوين المذكورة تُعتبر معتمدة.
11. النزاعات تُحال للمحكمة المختصة بالرياض.
12. حُرّر العقد من نسختين وتم الاتفاق عليه.

توقيع الطرف الأول: تم التوقيع آليًا باسم نايف المطيري.
توقيع الطرف الثاني: يوقّع لاحقًا عند الموافقة إلكترونيًا.

      `;

      document.getElementById("contractText").innerText = contract;
    }

    function updateDateTime() {
      const now = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const time = now.toLocaleTimeString('ar-EG');
      const date = now.toLocaleDateString('ar-EG', options);
      document.getElementById("dateTime").textContent = `التاريخ: ${date} - الوقت: ${time}`;
    }

    fillContract();
    updateDateTime();
    setInterval(updateDateTime, 1000);
  </script>
</body>
</html>